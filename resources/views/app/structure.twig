{% extends "app.twig" %}

{% block css %}

    <link href="https://cdnjs.cloudflare.com/ajax/libs/orgchart/2.1.3/css/jquery.orgchart.min.css" rel="stylesheet">
    <style>
        .orgchart {
            background-image: none !important ;

        }
        #chart-container {
              margin: auto;
              width: 100%;
              border: 3px solid green;
              padding: 10px;
        }
    </style>

{% endblock %}

{% block content %}

	<div class="row">

		<div class="col-md-12">

			<div class="card">

				<div class="content">

					<div class="card-header m-2"><h5>My Investment Structure</h5></div>

					<div class="card-body m-2">

						<div class="row">

							<div class="col-sm-12"><div id="chart-container"></div></div>

						</div>

					</div>

				</div>

			</div>

		</div>

	</div>

{% endblock %}


{% block js %}

    <script src="https://cdnjs.cloudflare.com/ajax/libs/orgchart/2.1.3/js/jquery.orgchart.min.js"></script>

    <script>
        
        $( function() {
            $.getJSON('/member/structure', function(data) {
                console.log(data) ;

                var oc = $('#chart-container').orgchart({
                  'data' : data,
                  'nodeContent': 'phone'
                });

            }) ;
        }) ;

    </script>

{% endblock %}